{
  "$id": "bootstrap:envelope.v1",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Bootstrap Artifact Envelope v1",
  "description": "Standard envelope for all bootstrap artifacts. Provides consistent metadata and payload structure.",
  "type": "object",
  "properties": {
    "schema": {
      "description": "Schema identifier for this artifact.",
      "type": "string",
      "pattern": "^bootstrap:[a-z0-9._-]+\\.v[0-9]+$"
    },
    "schema_version": {
      "description": "Schema version string.",
      "type": "string",
      "pattern": "^v[0-9]+$"
    },
    "kind": {
      "description": "Artifact kind discriminator.",
      "type": "string",
      "minLength": 1
    },
    "meta": {
      "description": "Artifact metadata.",
      "type": "object",
      "properties": {
        "stable_id": {
          "description": "Stable identifier for this artifact.",
          "type": "string",
          "pattern": "^bootstrap:[a-z0-9._-]+$"
        },
        "classification": {
          "type": "string",
          "enum": ["PUBLIC", "INTERNAL", "CONFIDENTIAL", "RESTRICTED"]
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time"
        },
        "labels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": ["stable_id", "classification", "created_at"],
      "unevaluatedProperties": false
    },
    "payload": {
      "description": "Artifact-specific payload.",
      "type": "object"
    }
  },
  "required": ["schema", "schema_version", "kind", "meta", "payload"],
  "unevaluatedProperties": false
}
