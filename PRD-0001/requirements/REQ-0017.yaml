prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0017
  type: OBSERVABILITY
  title: First-class observability and health
  statement: 'The system MUST expose first-class observability for autonomous operation:
    session health, work lease state, policy posture, and throughput/cost metrics
    must be computable from projections and exportable to dashboards and traces.'
  acceptance_criteria:
  - Health includes liveness, readiness, progress, and integrity (binary/version/policy
    hash).
  - Metrics include work cycle time, duplicate claim rate, stall rate, policy deny
    rate, and cost per completed work.
  - Tracing correlates work_id, lease_id, session_id across tool calls and federation
    links.
  - Observability outputs are safe by default (no secrets) and respect data classification.
  - A verifier can reproduce key metrics from the ledger projections for a defined
    time window.
  evidence:
    evidence_ids:
    - EVID-0011
    - EVID-0012
    - EVID-0018
