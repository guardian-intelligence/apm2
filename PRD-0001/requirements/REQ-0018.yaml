prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0018
  type: RECOVERY_ROLLBACK
  title: Deterministic remediation and rollback
  statement: The system MUST provide deterministic remediation actions (restart, cancel,
    revoke lease, quarantine) and repository rollback mechanisms such that autonomous
    work can be safely halted and reverted when necessary.
  acceptance_criteria:
  - A cancel/revoke interrupt results in deterministic session termination and lease
    release events.
  - Quarantine prevents further tool execution for affected sessions until explicitly
    cleared by authority policy.
  - Rollbacks are executed via deterministic git operations (revert/reset) mediated
    through syscalls and logged.
  - Recovery procedures are codified as executable runbooks and produce evidence artifacts
    when invoked.
  - Remediation actions are rate-limited to avoid restart storms.
  evidence:
    evidence_ids:
    - EVID-0006
    - EVID-0017
