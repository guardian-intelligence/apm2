prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0019
  type: COST
  title: Budgeting and resource accounting
  statement: Every work item and session MUST operate under explicit budgets (time,
    inference tokens, external calls, artifact bytes) enforced by the policy layer
    with deterministic accounting and audit trails.
  acceptance_criteria:
  - Budgets are declared in work contracts and profiles and are enforced at syscall
    boundaries.
  - Budget consumption is recorded as ledger events and projected for dashboards.
  - 'Exceeding a budget fails closed: the system transitions work to NEEDS_INPUT or
    ABORTED with reason codes.'
  - Budgets can be increased only via explicit governance actions recorded in the
    ledger.
  - Cost reports can attribute spend to work_id and actor_id.
  evidence:
    evidence_ids:
    - EVID-0018
