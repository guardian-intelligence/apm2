prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0020
  type: RELIABILITY
  title: Partition tolerance and convergence semantics
  statement: 'The system MUST operate safely under partial failure: partitions, retries,
    duplicates, and out-of-order delivery are expected; convergence rules must ensure
    eventual consistency for leases and evidence without silent success.'
  acceptance_criteria:
  - At-least-once delivery semantics are assumed; command messages are deduplicated
    by (actor_id, dedupe_key).
  - Out-of-order events are handled by rejecting invalid state transitions deterministically.
  - Partition conflicts for leases are represented and resolved deterministically
    or escalated via adjudication work.
  - Nodes can spool events locally when disconnected and reconcile via cursor-based
    replication on reconnection.
  - The system never silently drops work; stale or unresolved work is discoverable
    via projections.
  evidence:
    evidence_ids:
    - EVID-0006
