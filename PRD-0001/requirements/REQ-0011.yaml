prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0011
  type: PERFORMANCE
  title: Federation link supports multiplexing and prioritization
  statement: Federation between nodes MUST support independent, prioritized streams
    for control commands, event replication, and artifact transfer such that low-priority
    bulk replication cannot starve high-priority control traffic.
  acceptance_criteria:
  - Control commands are delivered on a dedicated high-priority stream with bounded
    latency under concurrent bulk replication.
  - Replication streams support backpressure and bounded in-flight bytes per stream.
  - Artifact transfers are chunked and can be resumed without replaying already verified
    chunks.
  - A node can operate with federation disconnected, spooling required outputs for
    later sync per profile policy.
  - Link reconnection behavior is deterministic and records link up/down events in
    the ledger.
  evidence:
    evidence_ids:
    - EVID-0007
