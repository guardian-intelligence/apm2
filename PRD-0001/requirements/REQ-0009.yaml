prd_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: REQ-0009
  type: RELIABILITY
  title: Crash-only agent session supervision
  statement: 'Agent runtimes MUST execute as crash-only sessions supervised by APM2:
    sessions may terminate on completion, be terminated on stall, or crash; the supervisor
    MUST restart with backoff and quarantine on repeated failures.'
  acceptance_criteria:
  - Each session emits periodic heartbeats or progress signals; lack of signals triggers
    stall remediation.
  - Supervisor classifies exits into a finite taxonomy (completed, failed, killed_stall,
    killed_policy, crash_loop_quarantined).
  - Backoff is exponential with caps and is recorded in the ledger.
  - Quarantine prevents repeated resource burn and requires explicit unquarantine
    command under authority policy.
  - Supervisor ensures no orphan child processes remain after termination.
  evidence:
    evidence_ids:
    - EVID-0001
    - EVID-0006
