prd_evidence_artifact:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "EVID-0005"
  category: "INTEGRATION_TEST_RESULTS"
  title: "CI Evidence Import and Attestation Tests"
  description: |
    Tests verifying CI evidence import with proper attestation. Raw artifacts and log
    digests must be imported into CAS, and adapter attestation must be signed and
    committed before any readiness transition can be emitted.
  source_acceptance_test: FAC-AT-0005
  capture:
    paths:
      - "test/fac/ci_evidence/"
      - "test/fac/ci_attestation/"
  verification:
    commands:
      - id: "CMD-0001"
        shell: "bash"
        command: "cargo test --workspace -- ci_evidence::import_and_attestation"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 180
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "CAS available for artifact storage"
          - "CI workflow fixtures with logs and artifacts"
          - "Adapter signing key available"
  assertions:
    - "Raw CI logs and artifacts imported with digests stored in CAS"
    - "Adapter attestation includes workflow_run_id and downloaded_artifact_hashes"
    - "Attestation signed by HOLON-GITHUB-ADAPTER"
    - "CI observations without evidence import are ignored (fail-closed)"
  data:
    classification: "INTERNAL"
    redaction:
      required: false
      guidance: []
