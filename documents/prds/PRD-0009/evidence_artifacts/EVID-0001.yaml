prd_evidence_artifact:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "EVID-0001"
  category: "TEST_RESULTS"
  title: "Context Firewall Enforcement Tests"
  description: |
    Tests verifying mechanical context firewall enforcement for CONSUME-mode holons.
    Denied reads must emit ToolDecided=DENY with rule_id CTX-ALLOWLIST-001.
    Only objects explicitly enumerated in the ContextPackManifest allowlist are readable.
  source_acceptance_test: FAC-AT-0001
  capture:
    paths:
      - "test/fac/context_firewall/"
  verification:
    commands:
      - id: "CMD-0001"
        shell: "bash"
        command: "cargo test --workspace -- context_firewall::enforcement"
        expected_exit_code: 0
        cwd: "."
        timeout_seconds: 120
        network_access: "DISALLOWED"
        allowlist_hosts: []
        constraints:
          - "ContextPackManifest with allowlist must be present"
          - "Test harness simulates CONSUME-mode holon"
  assertions:
    - "Reads outside ContextPack allowlist emit ToolDecided=DENY"
    - "Denied reads include rule_id CTX-ALLOWLIST-001"
    - "Allowlisted reads succeed with proper manifest binding"
  data:
    classification: "INTERNAL"
    redaction:
      required: false
      guidance: []
