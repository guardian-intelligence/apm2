acceptance_criteria:
  - criterion: Episode/tool receipts include time_envelope_ref
    verification: Integration tests using daemon test harness
  - criterion: "observed_ledger_head() returns LedgerTime using LedgerBackend::head()"
    verification: Unit test with in-memory ledger backend
implementation:
  code_examples: []
  files_to_create:
    - path: crates/apm2-daemon/src/htf/clock.rs
      purpose: HolonicClock service
  files_to_modify:
    - changes: Stamp envelopes at runtime boundaries
      path: crates/apm2-daemon/src/episode/runtime.rs
    - changes: Wire HolonicClock into runtime surfaces that issue receipts
      path: crates/apm2-daemon/src/protocol/
  implementation_steps: []
  summary: ""
notes: "Phase: PHASE-1\nGenerated from RFC RFC-0016 ticket decomposition on 2026-01-30."
schema_version: "2026-01-26"
template_version: "2026-01-26"
test_requirements:
  - description: Unit tests pass
    test_id: UT-00240-01
    verification_command: cargo test -p apm2-core tck_00240
  - description: Integration test
    test_id: IT-00240-01
    verification_command: cargo run --bin apm2 -- factory tickets emit --rfc RFC-0016
ticket:
  depends_on: []
  id: TCK-00240
  requirement_ids:
    - REQ-HTF-0002
    - REQ-HTF-0005
    - REQ-HTF-0007
  rfc_id: RFC-0016
  status: READY
  title: "HTF: Implement HolonicClock service and TimeEnvelope stamping in daemon"
