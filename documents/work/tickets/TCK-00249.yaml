acceptance_criteria:
  - criterion: Two sockets created with correct permissions
    verification: stat shows 0600 for operator, 0660 for session
  - criterion: Connections routed based on socket path
    verification: Integration test connects to each socket, verifies routing
  - criterion: Session socket not in privileged handler namespace
    verification: Attempt to call ClaimWork from session socket fails
implementation:
  code_examples: []
  files_to_create:
    - path: crates/apm2-daemon/src/protocol/socket_manager.rs
      purpose: Manage dual-socket lifecycle and routing
  files_to_modify:
    - changes: "Create two listener sockets: operator.sock and session.sock.\nRoute connections based on socket path.\n"
      path: crates/apm2-daemon/src/protocol/server.rs
    - changes: "Configure socket paths from config.\nSet permissions: operator.sock (0600), session.sock (0660).\n"
      path: crates/apm2-daemon/src/main.rs
  implementation_steps: []
  summary: ""
notes: "Phase: PHASE-1\nGenerated from RFC RFC-0017 ticket decomposition on 2026-01-30."
schema_version: "2026-01-26"
template_version: "2026-01-26"
test_requirements:
  - description: Unit tests pass
    test_id: UT-00249-01
    verification_command: cargo test -p apm2-core tck_00249
  - description: Integration test
    test_id: IT-00249-01
    verification_command: cargo run --bin apm2 -- factory tickets emit --rfc RFC-0017
ticket:
  depends_on: []
  id: TCK-00249
  requirement_ids:
    - REQ-DCP-0001
    - REQ-DCP-0008
  rfc_id: RFC-0017
  status: READY
  title: Implement dual-socket topology for privilege separation
