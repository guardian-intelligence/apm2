rfc_trust_boundaries:
  schema_version: "2026-01-25"
  template_version: "2026-01-25"

  trust_model:
    description: |
      This RFC introduces build tooling configuration changes. The trust
      boundaries are minimal as these are developer workstation configurations
      that do not affect production systems or handle sensitive data.

    boundaries:
      - id: TB-001
        name: "Local Development Environment"
        description: "Build optimization tools run on developer workstations"
        trust_level: HIGH
        entities:
          - "Developer workstation"
          - "Local git repository"
          - "Cargo build system"

      - id: TB-002
        name: "Compilation Cache (sccache)"
        description: "Cached compilation artifacts stored locally"
        trust_level: HIGH
        entities:
          - "~/.cache/sccache directory"
          - "Compiled object files"
        notes: |
          sccache stores compiled artifacts locally by default. These are
          trusted as they are generated by the local compiler. The cache
          does not cross trust boundaries unless configured for remote
          storage (which is not recommended by this RFC).

      - id: TB-003
        name: "External Tool Installation"
        description: "Tools installed via cargo or system package managers"
        trust_level: DELEGATED
        entities:
          - "crates.io (sccache, cargo-nextest)"
          - "System package manager (mold)"
        notes: |
          Tools are installed via standard package managers which have their
          own trust verification mechanisms. cargo install uses crates.io;
          system packages use distribution repositories.

  data_flows:
    - flow_id: DF-001
      description: "Source code to compilation cache"
      from: "Rust source files"
      to: "sccache local cache"
      data: "Compiled object files"
      sensitivity: LOW
      notes: "Object files are derived from source code already in repository"

    - flow_id: DF-002
      description: "Compilation cache to build output"
      from: "sccache local cache"
      to: "target/ directory"
      data: "Cached object files"
      sensitivity: LOW
      notes: "Cache hits avoid recompilation"

  security_considerations: |
    This RFC introduces minimal security considerations:

    1. **mold linker**: System tool, installed via package manager. No
       additional attack surface beyond existing linker.

    2. **sccache**: Stores compiled artifacts locally. Default configuration
       does not use remote storage. Cache contents are derived from local
       source code and trusted compiler.

    3. **cargo-nextest**: Test runner that executes the same tests as cargo
       test. No additional security implications.

    4. **Configuration files**: .cargo/config.toml is checked into the
       repository and subject to code review. No secrets stored.

    5. **Tool installation security**: Tools are installed via trusted sources:
       - mold: System package manager (apt/dnf/pacman) or Homebrew
       - sccache: crates.io via cargo install (verified checksums)
       - cargo-nextest: crates.io via cargo install (verified checksums)
       All installations use standard package verification mechanisms.

    No credentials are involved. No network services are exposed. All tools
    operate within the developer's local environment with the same
    permissions as the developer.
