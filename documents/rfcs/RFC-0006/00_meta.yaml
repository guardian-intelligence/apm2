rfc_meta:
  schema_version: "2026-01-25"
  template_version: "2026-01-25"
  rfc:
    id: RFC-0006
    title: "Dev Loop Quality Improvements"
    status: DRAFT
    created_date: "2026-01-25"
    last_updated_date: "2026-01-25"
  binds_to_prd:
    prd_id: NONE
    prd_base_path: ""
    requirement_registry_ref: ""
    evidence_bundle_ref: ""
    prd_meta_ref: ""
    rationale: |
      Maintenance RFC improving existing tooling based on lessons learned from
      PR #58 and #59 merging. Formalizes anti-patterns discovered and switches
      code quality reviewer from Codex to Gemini CLI.
  protocol_profile:
    id: NONE
    applies: false
    inherited_from_prd: true
    profile_ref: ""
  custody:
    producing_agent_roles:
      - AGENT_AUTHOR
    responsible_domains:
      - DOMAIN_TOOLING
      - DOMAIN_SECURITY
    authority_signoffs_required:
      - AUTH_ARCHITECTURE
  refs:
    standards:
      requirement_schema: "standards/schemas/02_requirement.schema.yaml#requirement_schema"
      evidence_artifact_schema: "standards/schemas/01_evidence_artifact.schema.yaml#evidence_artifact_schema"
      quality_coverage_schema: "standards/schemas/03_quality_coverage.schema.yaml#quality_coverage_schema"
      gate_review_schema: "standards/schemas/06_gate_review.schema.yaml#gate_review_schema"
      waiver_schema: "standards/schemas/05_waiver.schema.yaml#waiver_schema"
      ticket_meta_schema: "standards/schemas/04_ticket_meta.schema.yaml#ticket_meta_schema"
      lint_spec: "standards/lint/LINT_SPEC.yaml#lint_spec"
  implementation:
    language: Rust
    edition: "2021"
    crate_name: xtask
    implementation_approach: |
      Multi-phase improvements to xtask developer tooling and documentation.
      Phase 0: Documentation updates (coding guidelines, security review prompt).
      Phase 1: Enhanced local checks (clippy lints, automated pattern validation).
      Phase 2: Test coverage (restart monotonicity, AI tool invocation).
      Phase 3: Workflow improvements (error messages, Gemini CLI for code quality).
    key_dependencies:
      - name: tempfile
        version: "3.x"
        purpose: "Secure temporary file creation"
        already_in_xtask: true
      - name: serde_json
        version: "1.x"
        purpose: "JSON parsing for CI check status and state file"
        already_in_xtask: true
      - name: xshell
        version: "0.2.x"
        purpose: "Command execution for gh CLI and AI tool invocation"
        already_in_xtask: true
      - name: nix
        version: "0.30.x"
        purpose: "Signal handling for process termination (SIGTERM/SIGKILL)"
        already_in_xtask: false
        in_workspace: true
      - name: directories
        version: "6.x"
        purpose: "Cross-platform home directory detection for state file"
        already_in_xtask: false
        in_workspace: true
