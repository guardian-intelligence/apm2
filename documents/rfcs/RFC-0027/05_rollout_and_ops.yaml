rfc_rollout_and_ops:
  schema_version: "2026-02-07"
  template_version: "2026-01-23"

  rollout_stages:
    - stage_id: "PHASE-0"
      name: "Contract and schema definition"
      goals:
        - "Define AuthorityJoinInputV1, AuthorityJoinCertificateV1, deny classes, and lifecycle receipts"
        - "Define replay-verification extensions for lifecycle ordering"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §10"

    - stage_id: "PHASE-1"
      name: "RequestTool integration"
      goals:
        - "Introduce AuthorityJoinKernel in daemon runtime"
        - "Require join/revalidate/consume for RequestTool side effects"
        - "Bind pre-actuation and broker controls through PCAC lifecycle"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §10"

    - stage_id: "PHASE-2"
      name: "Privileged path integration"
      goals:
        - "Integrate PCAC into DelegateSublease and IngestReviewReceipt handlers"
        - "Enforce Tier2+ sovereignty composition checks"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §10"

    - stage_id: "PHASE-3"
      name: "Waiver retirement"
      goals:
        - "Promote identity proof verification to admission-default by policy tier"
        - "Retire transitional pointer-only behavior where readiness permits"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §10"

    - stage_id: "PHASE-4"
      name: "Federation-ready families"
      goals:
        - "Add distributed admission family without semantic drift"
        - "Validate equivalence against in-process family"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §10"

  policy_surface:
    source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md §9"
    knobs:
      - "require_ajc_for_tool_actuation"
      - "require_ajc_for_delegate_sublease"
      - "require_ajc_for_ingest_review_receipt"
      - "tiered admission capacity limits"
      - "tier2plus_require_verified_identity_proof"
      - "explicit waiver allowlist for pointer-only evidence"
      - "revalidate checkpoints (before_broker, before_execute)"
      - "required HTF time_envelope_ref and ledger anchor binding"
      - "digest/canonicalizer identifiers"
      - "tier2plus_require_sovereignty_epoch"
      - "tier2plus_require_principal_revocation_head"
      - "tier2plus_require_autonomy_ceiling_check"
      - "freeze_on_sovereignty_uncertainty"
      - "max_sovereignty_epoch_ledger_lag_by_risk_tier"

  ops_controls:
    - id: "OPS-0001"
      statement: "Policy defaults are containment-safe; uncertainty defaults to deny for authority-bearing paths."
    - id: "OPS-0002"
      statement: "Tier2+ degraded mode requires explicit admissible policy path; otherwise bounds breach denies admission."
    - id: "OPS-0003"
      statement: "Authoritative consume acceptance requires durable consume record prior to effect acceptance."

  integration_targets:
    source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md Appendix B"
    files:
      - "crates/apm2-daemon/src/protocol/session_dispatch.rs"
      - "crates/apm2-daemon/src/episode/preactuation.rs"
      - "crates/apm2-daemon/src/protocol/dispatch.rs"
      - "crates/apm2-daemon/src/identity/directory_proof.rs"
