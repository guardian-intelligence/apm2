rfc_contracts_and_versioning:
  schema_version: "2026-02-07"
  template_version: "2026-01-23"

  contracts:
    - id: "CTR-0001"
      name: "AuthorityJoinInputV1"
      schema_id: "apm2.pcac.authority_join_input.v1"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md ยง3.1"
      required_bindings:
        - "session_id"
        - "intent_digest"
        - "capability_manifest_hash"
        - "lease_id/permeability_receipt_hash"
        - "identity_proof_hash"
        - "freshness policy/witness bindings"
        - "stop/budget policy digest"
        - "time_envelope_ref"
        - "as_of_ledger_anchor"

    - id: "CTR-0002"
      name: "AuthorityJoinCertificateV1"
      schema_id: "apm2.pcac.authority_join_certificate.v1"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md ยง3.2"
      required_bindings:
        - "ajc_id"
        - "authority_join_hash"
        - "intent_digest"
        - "risk_tier"
        - "issued_time_envelope_ref"
        - "as_of_ledger_anchor"
        - "expires_at_tick"
        - "revocation_head_hash"
        - "identity_evidence_level"

    - id: "CTR-0003"
      name: "AuthorityJoinKernel"
      schema_id: "apm2.pcac.authority_join_kernel.v1"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md ยง3.3"
      operations:
        - "join(input)"
        - "revalidate(ajc, current_time_envelope_ref, current_ledger_anchor, current_revocation_head_hash)"
        - "consume(ajc, intent_digest, current_time_envelope_ref)"

    - id: "CTR-0004"
      name: "Lifecycle Receipt Binding Contract"
      schema_id: "apm2.pcac.lifecycle_receipts.v1"
      source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md ยง3.4"
      authoritative_required_bindings:
        - "episode_envelope_hash"
        - "view_commitment_hash"
        - "time_envelope_ref"
        - "authority_seal_hash OR ReceiptPointerV1 proof path"
        - "permeability_receipt_hash and delegation_chain_hash when delegated authority is consumed"
      pointer_path_requirements:
        - "receipt_hash"
        - "authority_seal_hash"
        - "merkle_inclusion_proof when batched"
        - "receipt_batch_root_hash when descriptor path used"

  versioning_rules:
    - id: "VER-0001"
      statement: "Certificate bytes may be copied; consume uniqueness is enforced by authoritative durable consume records."
    - id: "VER-0002"
      statement: "Canonicalizer + digest metadata are mandatory in authoritative lifecycle receipts."
    - id: "VER-0003"
      statement: "Unknown or missing required authority-critical fields fail closed."
    - id: "VER-0004"
      statement: "Time authority is HTF-bound (`time_envelope_ref`); wall-clock cannot authorize outcomes."
    - id: "VER-0005"
      statement: "Receipt authentication semantics compose with RFC-0020 AcceptanceFact models without wire-shape ambiguity."

  api_sketch_reference:
    source_ref: "PROOF_CARRYING_AUTHORITY_CONTINUITY.md Appendix A"
    notes:
      - "Appendix API remains illustrative; normative semantics are defined by Sections 3, 4, 6, 12, 15, and 16."
