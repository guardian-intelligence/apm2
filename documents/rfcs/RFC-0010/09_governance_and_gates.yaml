rfc_governance_and_gates:
  schema_version: "2026-01-26"
  template_version: "2026-01-26"

  governance_model:
    approval_requirements:
      - authority: AUTH_ARCHITECTURE
        scope: "Technical design and implementation approach"
        rationale: "RFC implements PRD-0005 requirements with significant architectural changes"
      - authority: AUTH_PRODUCT
        scope: "User-facing CLI contracts and skill integration"
        rationale: "CLI surface area and skill workflow changes affect operator experience"

    change_control:
      - "RFC modifications require AUTH_ARCHITECTURE approval"
      - "Ticket scope changes require RFC amendment"
      - "CCP grounding changes require re-validation"

  gate_reviews:
    - gate_id: GATE-RFC-SCHEMA
      type: TRUSTED
      description: "RFC documents parse correctly against schema"
      verification: "cargo xtask lint --rfc RFC-0010"
      status: PENDING

    - gate_id: GATE-RFC-CCP-GROUNDING
      type: DETERMINISTIC
      description: "RFC references valid CCP artifacts"
      verification: |
        All component IDs in 01_problem_and_imports.yaml exist in CCP.
        All file paths in 06_ticket_decomposition.yaml are valid.
      evidence:
        - "evidence/prd/PRD-0005/ccp/ccp_index.json"
        - "evidence/prd/PRD-0005/impact_map/impact_map.yaml"
      status: PENDING

    - gate_id: GATE-RFC-REQUIREMENT-COVERAGE
      type: DETERMINISTIC
      description: "All PRD-0005 requirements mapped to tickets"
      verification: |
        REQ-0001 through REQ-0012 each appear in at least one ticket's requirement_ids.
      status: PENDING

    - gate_id: GATE-RFC-DEPENDENCY-ACYCLICITY
      type: DETERMINISTIC
      description: "Ticket dependencies form a DAG (no cycles)"
      verification: |
        Topological sort of ticket blocked_by relationships succeeds.
      status: PENDING

    - gate_id: GATE-RFC-ATOMICITY
      type: LLM_ASSISTED
      description: "Each ticket is implementable in a single PR"
      verification: |
        Review ticket scope: each ticket modifies/creates bounded file set,
        has clear acceptance criteria, and can be verified independently.
      status: PENDING

    - gate_id: GATE-RFC-ANTI-COUSIN
      type: LLM_ASSISTED
      description: "No cousin abstractions introduced"
      verification: |
        New modules in net_new_modules have explicit justification.
        Impact map identifies reuse opportunities and documents why not used.
      evidence:
        - "evidence/prd/PRD-0005/impact_map/impact_map.yaml#impact_map.summary"
      status: PENDING

  gate_summary:
    total_gates: 6
    by_type:
      TRUSTED: 1
      DETERMINISTIC: 3
      LLM_ASSISTED: 2
    passing: 0
    pending: 6
    failing: 0

  supersession:
    supersedes: RFC-0009
    rationale: |
      RFC-0009 was marked SUPERSEDED with binds_to_prd: NONE after being
      decoupled from PRD-0005. RFC-0010 provides the authoritative implementation
      of PRD-0005 with proper CCP grounding and fresh ticket decomposition.
    migration:
      - action: "Mark RFC-0009 tickets as SUPERSEDED"
        tickets:
          - TCK-00090
          - TCK-00091
          - TCK-00092
          - TCK-00093
          - TCK-00094
          - TCK-00095
          - TCK-00096
          - TCK-00097
          - TCK-00098
          - TCK-00099
          - TCK-00100
          - TCK-00101
          - TCK-00102
      - action: "Migrate any in-progress work to corresponding RFC-0010 tickets"
        mapping:
          TCK-00090: TCK-00110
          TCK-00091: TCK-00111
          TCK-00092: TCK-00112
          TCK-00093: TCK-00113
          TCK-00094: TCK-00114
          TCK-00095: TCK-00115
          TCK-00096: TCK-00116
          TCK-00097: TCK-00117
          TCK-00098: TCK-00118
          TCK-00099: TCK-00119
          TCK-00100: TCK-00120
          TCK-00101: TCK-00121
          TCK-00102: TCK-00122
