rfc_problem_and_imports:
  schema_version: "2026-01-26"
  template_version: "2026-01-26"

  problem_statement:
    summary: |
      The factory's outputs (PRDs, RFCs, tickets) are only as good as the
      compilation process. When PRD->RFC translation is performed without
      mechanical awareness of the existing codebase, it systematically produces
      duplicated utilities, cousin abstractions, and tickets that refer to
      non-existent extension points.
    prd_ref: "documents/prds/PRD-0005/02_problem.yaml#prd_problem"

  imported_requirements:
    - id: REQ-0001
      title: "Single-command Idea Compiler entrypoint"
      ref: "documents/prds/PRD-0005/requirements/REQ-0001.yaml#prd_requirement"
    - id: REQ-0002
      title: "Codebase Context Pack generation"
      ref: "documents/prds/PRD-0005/requirements/REQ-0002.yaml#prd_requirement"
    - id: REQ-0003
      title: "Requirement-to-component impact mapping"
      ref: "documents/prds/PRD-0005/requirements/REQ-0003.yaml#prd_requirement"
    - id: REQ-0004
      title: "RFC framing grounded in CCP and Impact Map"
      ref: "documents/prds/PRD-0005/requirements/REQ-0004.yaml#prd_requirement"
    - id: REQ-0005
      title: "RFC and ticket lint extensions to prevent clutter"
      ref: "documents/prds/PRD-0005/requirements/REQ-0005.yaml#prd_requirement"
    - id: REQ-0006
      title: "Atomic ticket decomposition with migration and verification"
      ref: "documents/prds/PRD-0005/requirements/REQ-0006.yaml#prd_requirement"
    - id: REQ-0007
      title: "Multi-model routing with explicit profiles and provenance"
      ref: "documents/prds/PRD-0005/requirements/REQ-0007.yaml#prd_requirement"
    - id: REQ-0008
      title: "Determinism envelope and material-diff acceptance"
      ref: "documents/prds/PRD-0005/requirements/REQ-0008.yaml#prd_requirement"
    - id: REQ-0009
      title: "Auth and provenance integration for compiler runs"
      ref: "documents/prds/PRD-0005/requirements/REQ-0009.yaml#prd_requirement"
    - id: REQ-0010
      title: "Skill system integration for operator and agent workflows"
      ref: "documents/prds/PRD-0005/requirements/REQ-0010.yaml#prd_requirement"
    - id: REQ-0011
      title: "Continuous Refactor Radar stage"
      ref: "documents/prds/PRD-0005/requirements/REQ-0011.yaml#prd_requirement"
    - id: REQ-0012
      title: "Structured observability for compilation runs"
      ref: "documents/prds/PRD-0005/requirements/REQ-0012.yaml#prd_requirement"

  ccp_grounding:
    ccp_index_ref: "evidence/prd/PRD-0005/ccp/ccp_index.json"
    component_dependencies:
      - id: COMP-CLI
        ref: "evidence/prd/PRD-0005/ccp/component_atlas.yaml#component_atlas.components[0]"
        rationale: "CLI entrypoint for factory compile commands (EXT-CLI-001)"
      - id: COMP-CORE
        ref: "evidence/prd/PRD-0005/ccp/component_atlas.yaml#component_atlas.components[2]"
        rationale: "Primary implementation target for compiler stages"
      - id: COMP-XTASK
        ref: "evidence/prd/PRD-0005/ccp/component_atlas.yaml#component_atlas.components[4]"
        rationale: "Lint rule implementation (EXT-XTASK-LINT)"
      - id: COMP-SKILLS
        ref: "evidence/prd/PRD-0005/ccp/component_atlas.yaml#component_atlas.components[5]"
        rationale: "Skill library updates for idea-compiler and rfc-council"
      - id: COMP-STANDARDS
        ref: "evidence/prd/PRD-0005/ccp/component_atlas.yaml#component_atlas.components[6]"
        rationale: "LINT_SPEC.yaml updates for clutter prevention rules"
