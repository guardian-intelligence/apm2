rfc_meta:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  rfc:
    id: "RFC-0019"
    title: "Automated FAC v0: End-to-end ingestion, review episode, durable receipt, GitHub projection"
    full_title: "RFC-0019 — Automated FAC v0: Ingest → Episode → Receipt → Projection (Holarchy protocol v1, multi-cell compatible)"
    status: "APPROVED"
    version: "v4"
    created_date: "2026-02-04"
    last_updated_date: "2026-02-04"
    grounding_evidence:
      - "evidence/rfc/RFC-0019/reviews/rfc_explore_v2_grounding_20260204.yaml"
    finalize_evidence:
      - "evidence/rfc/RFC-0019/reviews/rfc_finalize_v4_20260204.yaml"
  source_drafts:
    - id: "AUTONOMOUS_FORGE_ADMISSION_CYCLE"
      path: "documents/rfcs/RFC-0019/AUTONOMOUS_FORGE_ADMISSION_CYCLE.md"
      role: "original narrative draft"
      note: "RFC-0019 YAML section files carry the authoritative structured spec; draft retained for provenance."
  module_contract:
    spine_role: "Boundary + Loop (episode loop + admission control loop)"
    laws_upheld_minimum:
      - "LAW-01"
      - "LAW-02"
      - "LAW-03"
      - "LAW-05"
      - "LAW-06"
      - "LAW-07"
      - "LAW-09"
      - "LAW-10"
      - "LAW-11"
      - "LAW-12"
      - "LAW-15"
    core_invariants_minimum:
      - id: "TRUTH-AX-01..05"
        summary: "truth as hash-chained events; projections are overwritable; compaction is monotone"
      - id: "INV-F-13"
        summary: "bounded views must commit to ledger head + provide selectors"
      - id: "INV-F-14"
        summary: "constraint precedence: containment > verification > liveness"
      - id: "INV-F-15"
        summary: "LLMs cannot be sole authority for high-risk promotion"
    typed_boundary_io_minimum:
      inputs:
        - "work_id"
        - "changeset_digest"
        - "lease_id"
        - "budgets"
        - "capability_manifest_hash"
        - "context_pack_hash"
        - "stop_condition_hash"
      outputs:
        - "receipt_hash"
        - "ledger_anchor"
        - "summary_receipt_hash"
        - "defect_ids (optional)"
    failure_modes_first_class:
      statement: "missing pins, missing stop-state, tool escape, pack miss, non-determinism => terminal blockage + defect recording"
      examples:
        - "PIN_MISSING"
        - "STOP_STATE_MISSING"
        - "TOOL_ESCAPE_ATTEMPT"
        - "CONTEXT_PACK_MISS"
        - "NONDETERMINISM_DETECTED"
  binds_to_prd:
    prd_id: "PRD-0009"
    prd_base_path: "documents/prds/PRD-0009/"
    requirement_registry_ref: "07_traceability.yaml#prd_traceability.requirement_registry"
    evidence_bundle_ref: "12_evidence_bundle.yaml#prd_evidence_bundle.bundle"
    prd_meta_ref: "00_meta.yaml#prd_meta"
    secondary_prd:
      prd_id: "PRD-0010"
      prd_base_path: "documents/prds/PRD-0010/"
      rationale: "RFC-0019 implements daemon control-plane viability (PRD-0010) to enable FAC automation (PRD-0009)"
  protocol_profile:
    id: "FAC-PROTOCOL-001"
    applies: true
    inherited_from_prd: true
    profile_ref: "documents/prds/PRD-0009/00_meta.yaml#prd_meta.protocol_profile"
  custody:
    producing_agent_roles:
      - "AGENT_AUTHOR"
    responsible_domains:
      - "DOMAIN_KERNEL"
      - "DOMAIN_DAEMON"
      - "DOMAIN_ADMISSION"
      - "DOMAIN_PROJECTION"
      - "DOMAIN_SECURITY"
    authority_signoffs_required:
      - "AUTH_ARCHITECTURE"
      - "AUTH_SECURITY"
  depends_on:
    - id: "RFC-0018"
      relationship: "BUILDS_ON"
      rationale: "RFC-0018 established HEF/FAC v0 primitives; RFC-0019 integrates them into automated end-to-end flow"
  assumes_landing:
    - pr_id: 387
      description: "HEF/FAC v0 E2E harness + tool primitives"
    - pr_id: 389
      description: "ListFiles/Search tool handlers"
  refs:
    standards:
      requirement_schema: "standards/schemas/02_requirement.schema.yaml#requirement_schema"
      evidence_artifact_schema: "standards/schemas/01_evidence_artifact.schema.yaml#evidence_artifact_schema"
      quality_coverage_schema: "standards/schemas/03_quality_coverage.schema.yaml#quality_coverage_schema"
      gate_review_schema: "standards/schemas/06_gate_review.schema.yaml#gate_review_schema"
      waiver_schema: "standards/schemas/05_waiver.schema.yaml#waiver_schema"
      ticket_meta_schema: "standards/schemas/04_ticket_meta.schema.yaml#ticket_meta_schema"
      lint_spec: "standards/lint/LINT_SPEC.yaml#lint_spec"
