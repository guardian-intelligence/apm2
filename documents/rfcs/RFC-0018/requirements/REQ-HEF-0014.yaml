rfc_requirement:
  schema_version: "2026-01-23"
  template_version: "2026-01-23"
  id: "REQ-HEF-0014"
  type: "RELIABILITY"
  title: "Event-family convergence with replay-equivalence gates"
  statement: |
    Work lifecycle semantics MUST remain equivalent across active event families:
    daemon underscore events (`work_claimed`, `work_transitioned`), core reducer
    dotted events (`work.transitioned` and companions), and kernel typed protobuf
    events (`WorkTransitioned` and companions).

    Promotion is blocked unless parity and replay-equivalence checks pass.
  acceptance_criteria:
    - "Parity checks validate state/rationale/sequence/actor equivalence across underscore, dotted, and protobuf mappings."
    - "Replay from ledger checkpoints converges to identical work projections and does not duplicate external side-effects."
    - "Parity mismatches emit structured defect records and block cutover promotion."
  evidence:
    evidence_ids:
      - "EVID-HEF-0015"
    inherited_from_prd: false
    notes: []
